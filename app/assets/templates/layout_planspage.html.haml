.top-nav{:role => "navigation", :style => "border-bottom: 1px solid #d7d7d7; max-width:1700px; padding-top: 2px; margin-top:1px;"}
  .navbar-header
    %button.navbar-toggle{"data-target" => ".navbar-main-collapse", "data-toggle" => "collapse", :type => "button", }
      %i.fa.fa-bars
    %a.navbar-brand{ :href => "/#/"}
      %img.img-responsive{:height => "150", :src => "./images/count-it-dot.png", :width => "150", :style => "margin-top: -7px; margin-left: 60px;"}
    / Collect the nav links, forms, and other content for toggling
  .collapse.navbar-collapse.navbar-right.navbar-main-collapse
    %ul.nav.navbar-nav
      / Hidden li included to remove active class from about link when scrolled up past about section
      %li
        %a.page-scroll{:href => "/#/slack"}
          %img.img-responsive{:src => "./images/slacklogo.png", :height => "25", :width =>"25", :style => "margin-top:-6px; margin-right: 5px;"} 
          %span Add to Slack!
      %hr.hidden-sm.hidden-md.hidden-lg
      %li
        %a.page-scroll{:href => "/#/trackers"} Trackers Guide
      %hr.hidden-sm.hidden-md.hidden-lg
      %li
        %a.page-scroll{:href => "/#/pricing"} Pricing
      %hr.hidden-sm.hidden-md.hidden-lg
      %li
        %a.page-scroll{:href => "/#/pro"} PRO Features
      %hr.hidden-sm.hidden-md.hidden-lg
      %li(ng-if="!user")
        %a.page-scroll{:href => "/#/create", :style => ""}
          %strong Join 
      %li(ng-if="user")
        %a.page-scroll{:href => "/#/team", :style => ""}
          %strong Home
      %hr.hidden-sm.hidden-md.hidden-lg 
      %li.hidden-xs.hidden-sm
        %a{:style => "padding-left:2px;padding-right:2px; margin-top: -15px;"}
        |
      %li(ng-if="!user")
        %a.page-scroll{:href => "/#/login", :style => ""}Login
      %li(ng-if="user")
        %a{:href => "#/me", :style => ""}
          {{user.f}}
          
.pricing_body(ng-if="pageMode.getPay == 'false'" ) 

  .wearable{:style => "height: 250px; background-color: #eeeeee"}    
    .col-xs-9.col-xs-offset-2
      %div.hidden-xs{:style => "height:25px;"}
      %div.hidden-lg.hidden-md.hidden-sm{:style => "height: 125px;"}
      %img.hidden-xs.hidden-sm.hidden-md{:src => "/images/guidebot.png", :style => "height:100px; width:100px; margin-left: 70px; margin-top: 50px;"}
      %img.hidden-xs.hidden-md.hidden-lg{:src => "/images/guidebot.png", :style => "height:100px; width:100px; margin-left: -40px; margin-top: 50px;"}
      %img.hidden-xs.hidden-sm.hidden-lg{:src => "/images/guidebot.png", :style => "height:100px; width:100px; margin-top: 50px;"}
      %br.visible-xs
      %h1{:style => " font-family: 'AvantGarde-Demi', sans-serif; font-size: 60px; color:black;text-align:center;  margin-top: -90px "} Choose Your Plan
      /%h4{:style => "text-align:center; color:white; font-size: 50px; padding-top: 10px; font-family:'AvantGarde-Demi',  sans-serif;"} Wearables Guide
      %h3{:style => "color: #555555; font-weight: 100; font-size: 21px; text-align:center; margin-top: -2px;"} Get started for free. Your team will love you!

  .container
    .plan
      %div(style="height:100px;")

      /so this is the external plan page, this will handle checkout as well
      .row.row-centered
        .col-md-3.col-sm-offset-1
          .panel.panel-pricing{:style => "height: 325px;background-color: #2ecc71; text-align:center;"}
            .plan-circle2{:style => "background-color: #2ecc71;"}
              %h3{:style => "padding-top: 40px; font-size: 20px; color:white;"} BASIC
            %div{:style => "height: 125px;"}
            %h{:style => "text-align:center; color:white; font-family: 'AvantGarde-Demi',  sans-serif; font-size: 60px;"} FREE
            %p{:style => "color:white;"} for any number of users
       
          %div(ng-show="origPlan.isValid")
            %a.btn.btn-open.btn-plan(ng-href="/#/boss/plan"  style ="display:none;text-align:center; border: 2px solid #2ecc71 !important; color: #2ecc71;")
            %div{:style => "height: 36px;"}

          %div(ng-show="!origPlan.isValid && user")
            %a.btn.btn-open.btn-plan(ng-href="/#/boss/plan" style ="text-align:center; border: 2px solid #2ecc71 !important; color: #2ecc71;") Your Current Plan

          %div(ng-show="!origPlan.isValid && !user")
            %a.btn.btn-open.btn-plan(ng-href="/#/create"  style ="text-align:center; border: 2px solid #2ecc71 !important; background: #2ecc71; color: white;") Get Started

          %hr
          %h3{:style => "text-align:left; font-size: 20px; font-weight:bold; color:#2ecc71;"}Free Includes
          %p{:style => "text-align:left; color: #2ecc71; line-height: 0.5;"} These Great Features..
          %div{:style => " height: 1px; border-bottom: 1px solid #2ecc71;"}
          %br
          %ul.plans_spacing
            %li Community leaderboard
            %li All devices & app connections
            %li Multiple activity metrics
            %li Trash talk feed
            %li Email notications
            %li{:style => "visibility:hidden;"}
            %li{:style => "visibility:hidden;"}
          %div.hidden-md.hidden-lg.hidden-sm{:style => "height:100px;"}
       
        .col-md-3

          .panel.panel-pricing{:style => "height: 325px; text-align:center; background-color: #00adef;  "}
            .plan-circle2{:style => "background-color: #00adef;"}
              %h3{:style => "padding-top: 40px; font-size: 20px; color:white;"} PRO   
            %div{:style => "height: 125px;"}           
        
            .plan-cost(ng-if="!origPlan.isValid")

              %h{:style => "text-align:center; color:white; font-family: 'AvantGarde-Demi',  sans-serif; font-size: 60px;"} ${{planSettings.price / 100 }} 
              %p{:style => "color:white;"} per user per month 

            %div(ng-if="origPlan.isValid")
              .plan-cost(ng-if="origPlan.n == 'user_tiered'")

                %h{:style => "text-align:center; color:white; font-family: 'AvantGarde-Demi',  sans-serif; font-size: 60px;"} ${{origPlan.nc / 100}}
                %p{:style => "color:white;"} per month

              .plan-cost(ng-if="origPlan.isPromo")

                %h{:style => "text-align:center; color:white; font-family: 'AvantGarde-Demi',  sans-serif; font-size: 60px;"} PRO
                %p(style="color:white;")
                  for any number of users

              .plan-cost(ng-if="!origPlan.isPromo && origPlan.n == 'pro'")

                %h{:style => "text-align:center; color:white; font-family: 'AvantGarde-Demi',  sans-serif; font-size: 60px;"} ${{origPlan.um / 100 }}
                %p(style="color:white;")
                  per user per month


            .plan-stats

              //this is if you're changing your plan OR your origin plan is not valid
              .plan-stats(ng-show="!origPlan.isValid")

                //ability to select the plan length
                %p(style="padding-top:30px;")
            
                  %select(ng-model='planSettings.duration' ng-change="calculateCost(planSettings.duration)" ng-disabled="purch.promoRedeemed")
                    %option(value='1')
                      1 Month
                    %option(value='3')
                      3 Months
                    %option(value='6')
                      6 Months

          %div(ng-show="origPlan.isValid && !user.norm")
            %a.btn.btn-open.btn-plan{:href => "/#/boss/plan", :style => " color: #00adef;text-align:center; border: 2px solid #00adef!important; background-color: white;"} Your Current Plan
          %div(ng-show="origPlan.isValid && user.norm")
            %a.btn.btn-open.btn-plan{:href => "", :style => " color: #00adef;text-align:center; border: 2px solid #00adef!important; background-color: white;"} Your Current Plan
          %div(ng-show="!origPlan.isValid")

            %div(ng-show="!user.cc")

              %a(ng-show="!user" href="#/create?upgrade={{planSettings.duration}}")
                .btn.btn-open.btn-plan{:href => "", :style => " color:white;text-align:center; border: 2px solid #00adef !important; background-color: #00adef;"} Get Started
              %a(ng-if="user" ng-click="goPay()")
                /*href="#/pricing?changes={{planSettings.duration}}" */
                .btn.btn-open.btn-plan{:href => "", :style => " color:white;text-align:center; border: 2px solid #00adef !important; background-color: #00adef;"} Get Started

            %div(ng-show="user.cc")

              %a(ng-click="goPay()")
                /*href="#/pricing?changes={{planSettings.duration}}" */
                .btn.btn-open.btn-plan{:href => "", :style => " color:white;text-align:center; border: 2px solid #00adef !important; background-color: #00adef;"} Get Started


          %hr
          %h3{:style => "text-align:left; font-size: 20px; font-weight:bold; color: #00adef;"}PRO includes
          %p{:style => "text-align:left; line-height: 0.5; color: #00adef;"} Everything in FREE and...
          %div{:style => " height: 1px; border-bottom: 1px solid #00adef;"}
          %br
          %ul.plans_spacing
            %li Personal & social challenges
            %li Internal Teams
            %li Push-button rewards
            %li Dynamic reporting & exportable downloads
            %li Slack & Hipchat integration
            %li Leaderboard archive
            %li 24/7 Customer support
          %div.hidden-md.hidden-lg.hidden-sm{:style => "height:100px;"}
        .col-md-3
          .panel.panel-pricing{:style => "height: 325px; text-align:center; background-color: #ff7043;"}
            .plan-circle2{:style => "background-color: #ff7043;"}
              %h3{:style => "padding-top: 40px; font-size: 20px; color:white;"} ENTERPRISE   
            %div{:style => "height: 125px;"}           
        
            .plan-cost

              %h{:style => "text-align:center; color:white; font-family: 'AvantGarde-Demi',  sans-serif; font-size: 60px;"}
              %i.fa.fa-phone.fa-4x{"aria-hidden" => "true", :style => "color:white;"}
              %p{:style => "color:white;"} built for you

          %div
            %a(href="messages/new")
              .btn.btn-open.btn-plan{:href => "messages/new", :style => " color:white;text-align:center; border: 2px solid #ff7043 !important; background-color: #ff7043;"} Contact Us
          %hr
          %h3{:style => "text-align:left; font-size: 20px; font-weight:bold; color:#ff7043;"}ENTERPRISE includes
          %p{:style => "text-align:left; line-height: 0.5; color:#ff7043;"} Everything in FREE and...
          %div{:style => " height: 1px; border-bottom: 1px solid #ff7043;"}
          %br
          %ul.plans_spacing

            %li Inter community leagues
            %li HR integration & single sign-on
            %li Custom reporting
            %li White label platform
            %li Health research applications
            %li HIPAA compliant
            %li{:style => "visibility:hidden;"}



      //THIS IS WHERE WE REACH CHECKOUT PAGE CHECKOUT CHECKOUT CHECKOUT
.pricing_body(ng-if="pageMode.getPay == 'true' " ) 
  .container
    .plan
      %div(style="height:100px;")
      .row
        .col-md-8.col-md-offset-2

          .panel.panel-default(style="background-color:white; padding:50px;")
            .plan-cost()
              %h1{:style => "font-size: 60px; text-align:center;"} Checkout
              %hr
              %div(style="text-align:center;")
                %p(style="display:inline;") 
                  Congrats! You're signing up for
                %strong(style="display:inline;")
                  Count It PRO!
              %br

              %i.fa.fa-check.fa-2x{"aria-hidden" => "true", :style => "color:#2ecc71; display:inline;"}
              You've chosen the 
              %p(style="display:inline;")
                %select(ng-model='planSettings.duration' ng-disabled="purch.promoRedeemed" ng-change="calculateCost(planSettings.duration)" style="display:inline;")
                  %option(value='1')
                    1 Month
                  %option(value='3')
                    3 Month
                  %option(value='6')
                    6 Month

              plan, turning on all PRO features including challenges, teams, and rewards at a rate of ${{planSettings.price / 100 }} per user per month.
              %br
              %br

              %i.fa.fa-check.fa-2x{"aria-hidden" => "true", :style => "color:#2ecc71; display:inline;"}
              %strong
                Your PRO account will be active immediately,
              and it will run until the end of {{planSettings.endDate -1 | date:"MMMM"}}. We don't charge for partial months, so you get the rest of 
              %strong 
                {{currentMonth | date:'MMMM'}} 
              free.
              %br
              %br
              %i.fa.fa-check.fa-2x{"aria-hidden" => "true", :style => "color:#2ecc71; display:inline;"}
              %strong
                You pay $0 now!
              Your first charge will come at the end of
              %strong
                {{planSettings.startDate | date:"MMMM"}}.
              We bill you based on your total registered users at the end of each month.            

            %hr

            .payment-box(style="margin-top:-10px;" )
              .plan-info
                .form-group
                  %label Pay by:
                  %select(ng-model="paymentType" style='display:inline;')
                    %option(value="" disabled selected)
                      Choose...
                    %option(value="credit-card")
                      Credit Card
                    %option(value="promo-code") Promo Code
                    %option(value="purchase-order")
                      Purchase Order
                %br
                %div(ng-if="paymentType == 'promo-code'")
                  .form-group
                    %label Enter Code
                    %input.form-control(type="text" size="8" name="promoCode" ng-model="purch.promo" style="width:50%;")

                  .btn.btn-primary.btn-ci.mar-top(ng-click="redeem()" ng-disabled="!purch.promo")
                    Redeem 

                %div(ng-if="paymentType == 'purchase-order'")
                  %p
                    Please email sales@countit.com to pay by purchase order

                %div(ng-if="paymentType == 'credit-card'")
                  %form#ccForm.form-horizontalz.cc(set-fields stripe:form="completePurchase" prevalidate="validateCC(ccForm)" name="ccForm" role="form")

                    /
                      .form-group
                        %label Credit Card:
                        %img(src="/images/credit-cards.jpg")

                    .form-group
                      %label Name on Card:
                      %input.form-control(type="text" size="20" name="ccUser" ng-model="purch.ccUser" required)

                    .form-group.row
                      .col-xs-8
                        %label Card Number
                        %input.form-control(type="text" size="20" data-stripe="number" placeholder="#{Rails.env.production? ? '' : '4242424242424242'}" name="ccNumber" ng-model="purch.ccNumber" required data-cc)
                      
                      .col-xs-4
                        %label CVC Code
                        %input.form-control(type="text" size="4" data-stripe="cvc" placeholder="CVC" name="ccCvc" ng-model="purch.ccCvc" required data-cvc)

                    .form-group
                      %label Expiration
                      .row
                        .col-xs-3
                          %input.form-control(type="text" id="ccMonth" size="2" maxlength="2" data-stripe="exp-month" placeholder="MM" name="ccMonth"  ng-model="purch.ccMonth" required data-numeric)
                        .col-xs-1
                          %span.seps
                            &#47;
                        .col-xs-4
                          %input.form-control(type="text" size="4" maxlength="4" data-stripe="exp-year" placeholder="YYYY" name="ccYear" ng-model="purch.ccYear" required data-numeric)

                    .form-group
                      %label Phone Number
                      %input.form-control(type="text" size="20" name="ccUserPhone" ng-model="purch.ccPhone"  required)

                      %br


                      %label Confirm Email Address: {{user.e}}
                      %input.form-control(type="text" size="20" name="ccUserEmail" ng-model="purch.ccEmail" required placeholder="")

                      %br

                    %button#stripe-submit.btn.btn-lg.btn-primary.btn-ci(type="submit" ng-disabled="ccForm.$invalid || savingCustomer || !purch.claim")
                      Complete Purchase

                    .btn.btn-default.btn-ci.btn-lg.btn-next(ng-click="reloadCheckout()" ng-if="pageMode.getPay") Back

                    %br
                    %br

                    .alert.alert-danger.animated.fadeIn(ng-show="purch.error")
                      {{purch.error}}


  %div.hidden-sm{:style => "height:100px;"}

.foot.lower(ng-if="pageMode.getPay != 'junk'" ng-cloak ng-include src="'#{asset_path('shared/footer.html')}'")

